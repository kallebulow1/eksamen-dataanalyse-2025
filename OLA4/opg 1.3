# opgave 1.3

#laver back up til din colldf
df2 <- colldf 

# lav sys.time kolonne navn om til "scrapedate" 
names(df2)[10] <- "scrapedate"

# ændre scrapedate til 1 dag i fremtiden. fra 18 til 19
df2$scrapedate <- as.POSIXct(df2$scrapedate) + 86400 # ændre rækken "scrapedate" til tidsformat og lægger 86.400 sekunder til (24 timer)


#Tilføj 2 nye biler
new_cars <- data.frame(
  price       = c("199.900 kr.", "249.900 kr."),
  details     = c("Ny bil 1", "Ny bil 2"),
  makemodel   = c("VW e-Up!5d", "VW e-Up!Move Up! 5d"),
  props       = c("199.900 kr.", "249.900 kr."),
  description = c("Beskrivelse 1", "Beskrivelse 2"),
  location    = c("København", "Aarhus"),
  link        = c("link1", "link2"),
  carid       = c(9990001, 9990002),
  sellerid    = c("99999999-9999-999f-9994-999c9a99e9f9", "88888888-8888-888f-8884-888c8a88e8f8"),
  salg_clean  = c("Ny salgstekst 1", "Ny salgstekst 2"),
  scrapedate  = c("2025-11-19 11:02:57", "2025-11-19 11:02:57")
  )


df2 <- rbind(df2, new_cars)


#pris numerisk så vi fjerner "kr" og laver en ny kolonne
df2$price_num <- gsub("[^0-9]", "", df2$price) |> as.numeric()


#skift pris
set.seed(1)
rows_change <- sample(1:nrow(df2), 3)

df2$price_num[rows_change] <-
  df2$price_num[rows_change] +
  sample(c(-3000, 4000, 8000), 3, replace = TRUE)

#fjern 5 biler

set.seed(2)
rows_sold <- sample(1:nrow(colldf), 5)

df2 <- df2[-rows_sold, ]

